components:
  source:
    - name: "normal-case"
      type: "fixed"
      props:
        content:
          - item:
              title: "test1"
              link: "file://test1"
              date: "2022-01-01T00:00:00"
              contentType: "file"
              downloadUri: "file://test1"
            files:
              - path: "test1.jpg"
          - item:
              title: "test2"
              link: "file://test2"
              date: "2022-01-01T00:00:00"
              contentType: "file"
              downloadUri: "file://test2"
            files:
              - path: "test2.jpg"
          - item:
              title: "test-dir"
              link: "file://test-dir"
              date: "2022-01-01T00:00:00"
              contentType: "file"
              downloadUri: "file://test-dir"
            files:
              - path: "test3.jpg"
              - path: "test4.jpg"
    - name: "error-item"
      type: "fixed"
      props:
        content:
          - item:
              title: "error"
              link: "file://error"
              date: "2022-01-01T00:00:00"
              contentType: "file"
              downloadUri: "file://test1"
            files:
              - path: "test1.jpg"
    - name: "replace-case"
      type: "fixed"
      props:
        content:
          - item:
              title: "test-replace"
              link: "file://test1"
              date: "2022-01-01T00:00:00"
              contentType: "file"
              downloadUri: "https://baidu.com"
            files:
              - path: "test-replace1.jpg"
          - item:
              title: "test-replace"
              link: "file://test2"
              date: "2022-01-01T00:00:00"
              contentType: "file"
              downloadUri: "https://baidu.com"
            files:
              - path: "test-replace2.jpg"
  file-resolver:
    - name: "normal-case"
      type: "fixed"
    - name: "error-item"
      type: "fixed"
    - name: "replace-case"
      type: "fixed"
  downloader:
    - name: "mock"
      type: "mock"
      props:
        download-path: "src/test/resources/downloads"
    - name: "url"
      type: "url"
      props:
        download-path: "src/test/resources/downloads"
  file-tagger:
    - name: "mapping-test1file"
      type: "mapped"
      props:
        mapping:
          test1.jpg: test1
    - name: "mapping-test3file"
      type: "mapped"
      props:
        mapping:
          test3.jpg: test3

processors:
  - name: "NormalCase"
    source: "fixed:normal-case"
    item-file-resolver: "fixed:normal-case"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/NormalCase"
    variable-providers:
      - "sequence"
    options:
      save-path-pattern: "{itemTitle}/{itemDate}/"
      filename-pattern: "{filename} - {sequence}"
  - name: "NormalCaseCopy"
    source: "fixed:normal-case"
    item-file-resolver: "fixed:normal-case"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/NormalCaseCopy"
    variable-providers:
      - "sequence"
    options:
      save-path-pattern: "{itemTitle}/{itemDate}/"
      filename-pattern: "{filename} - {sequence}"
  - name: "FileStatusCase"
    source: "fixed:normal-case"
    item-file-resolver: "fixed:normal-case"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/FileStatusCase"
    options:
      save-path-pattern: "{itemTitle}"
  - name: "FileStatusCase2"
    source: "fixed:normal-case"
    item-file-resolver: "fixed:normal-case"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/FileStatusCase2"
    options:
      save-path-pattern: "1"
      filename-pattern: "1"
  - name: "PointerStorageCase"
    source: "fixed:normal-case"
    item-file-resolver: "fixed:normal-case"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/PointerStorageCase"
    options:
      save-path-pattern: "{itemTitle}"
  - name: "ErrorContinueCase"
    source: "fixed:error-item"
    item-file-resolver: "fixed:error-item"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/ErrorContinueCase"
    options:
      item-error-continue: false
  - name: "Tagged"
    source: "fixed:normal-case"
    item-file-resolver: "fixed:normal-case"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/Tagged"
    variable-providers:
      - "sequence"
    options:
      save-path-pattern: "{itemTitle}/{itemDate}/"
      filename-pattern: "{filename} - {sequence}"
      file-taggers:
        - "mapped:mapping-test1file"
      file-grouping:
        - tags: [ "test1" ]
          save-path-pattern: "{itemTitle}"
          filename-pattern: "{filename}"
  - name: "FileGroupingSeqVariableCase"
    source: "fixed:normal-case"
    item-file-resolver: "fixed:normal-case"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/FileGroupingSeqVariableCase"
    variable-providers:
      - "sequence"
    options:
      save-path-pattern: "{itemTitle}"
      filename-pattern: "{sequence}"
      file-taggers:
        - "mapped:mapping-test3file"
      file-grouping:
        - tags: [ "test3" ]
          save-path-pattern: "{itemTitle}"
          filename-pattern: "{sequence}"
  - name: "DryRunCase"
    source: "fixed:normal-case"
    item-file-resolver: "fixed:normal-case"
    downloader: "url"
    file-mover: "general"
    save-path: "src/test/resources/target/NormalCase"
    variable-providers:
      - "sequence"
    options:
      save-path-pattern: "{itemTitle}/{itemDate}/"
      filename-pattern: "{filename} - {sequence}"
  - name: "AsyncReplaceFileCase"
    source: "fixed:replace-case"
    item-file-resolver: "fixed:replace-case"
    downloader: "mock"
    file-mover: "general"
    save-path: "src/test/resources/target/AsyncReplaceFileCase"
    variable-providers:
      - "sequence"
    options:
      save-path-pattern: "{itemTitle}"
      filename-pattern: "{sequence}"
      file-replacement-decider: always
  - name: "SyncReplaceFileCase"
    source: "fixed:replace-case"
    item-file-resolver: "fixed:replace-case"
    downloader: "url"
    file-mover: "general"
    save-path: "src/test/resources/target/SyncReplaceFileCase"
    variable-providers:
      - "sequence"
    options:
      save-path-pattern: "{itemTitle}"
      filename-pattern: "{sequence}"
      file-replacement-decider: always